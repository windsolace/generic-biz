var module=angular.module("app",["ngRoute","servicestab"]);module.config(["$routeProvider","$locationProvider",function(e,t){t.html5Mode(!0),e.when("/",{templateUrl:"templates/home.html"}).when("/services",{templateUrl:"templates/services.html"}).when("/aboutus",{templateUrl:"templates/aboutus.html"}).otherwise({redirectTo:"templates/home.html"})}]),module.run(["$rootScope","anchorSmoothScroll","$http",function(e,t,o){e.currentPage=window.location.pathname.substring(1)||"",e.API_SERVICE="/api/services/",e.menu=[{name:"",label:"Home"},{name:"services",label:"Services"},{name:"aboutus",label:"About Us"}];for(let t of e.menu)t.name===e.currentPage&&(e.currentPageName=t.label);window.onscroll=function(){e.scrollFunction()},e.scrollFunction=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?document.getElementById("scrolltotop").style.display="block":document.getElementById("scrolltotop").style.display="none"},e.topFunction=function(){t.scrollTo("hiddentop")}}]),module.service("anchorSmoothScroll",function(){this.scrollTo=function(e){var t=self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0,o=function(e){var t=document.getElementById(e),o=t.offsetTop,n=t;for(;n.offsetParent&&n.offsetParent!=document.body;)n=n.offsetParent,o+=n.offsetTop;return o}(e),n=o>t?o-t:t-o;if(n<100)scrollTo(0,o);else{var c=Math.round(n/100);c>=20&&(c=20);var i=Math.round(n/25),l=o>t?t+i:t-i,r=0;if(o>t)for(var s=t;s<o;s+=i)setTimeout("window.scrollTo(0, "+l+")",r*c),(l+=i)>o&&(l=o),r++;else for(s=t;s>o;s-=i)setTimeout("window.scrollTo(0, "+l+")",r*c),(l-=i)<o&&(l=o),r++}}}),module.component("banner",{templateUrl:"components/banner/banner.html"}),module.component("breadcrumbs",{templateUrl:"components/breadcrumbs/breadcrumbs.html"}).controller("BreadcrumbCtrl",["$rootScope","$scope","$timeout",function(e,t,o){}]),module.component("myfooter",{templateUrl:"components/footer/footer.html"}).controller("FooterCtrl",["$rootScope","$scope",function(e,t){t.isMobile=!1,t.init=function(){window.innerWidth>800?t.isMobile=!1:t.isMobile=!0},t.init()}]),module.component("loader",{templateUrl:"components/loader/loader.html",bindings:{loading:"<"},controller:function(){}}),angular.module("servicedetail",[]).component("servicedetail",{templateUrl:"components/servicedetail/servicedetail.html",bindings:{svccontent:"<"},controller:function(){}}),angular.module("servicestab",["servicedetail"]).component("servicestab",{templateUrl:"components/servicestab/servicestab.html"}).controller("ServicesTabCtrl",["$rootScope","$scope","$http","$sce","anchorSmoothScroll",function(e,t,o,n,c){let i=e.API_SERVICE||"/api/services/";t.loading=!1,t.activeItem="aircon",t.activeServiceList=[],t.selectedService="",t.selectedServiceId="",t.selectedServiceObj="",t.serviceTypes=[{id:"aircon",name:"Aircon"},{id:"cctv",name:"CCTV"}],t.init=function(){if(window.location.hash){var e=window.location.hash.replace("#","").split(".");t.activeItem=e[0]||"aircon",t.selectedServiceId=e[1]||"",console.log("active item is : "+t.activeItem)}this.getServiceList(this.activeItem).then(function(e){window.location.hash&&(t.selectedService=l(t.selectedServiceId,e),t.loadDetails(t.selectedServiceId,t.selectedService))})},t.showServices=function(e){t.activeItem=e,t.activeServiceList=this.getServiceList(e)},t.getServiceList=function(e){return t.loading=!0,new Promise(function(n,c){o.get(i+e+".json").then(function(e){t.loading=!1,t.activeServiceList=e.data.serviceList,n(e.data.serviceList)},function(e){c(e)})})},t.loadDetails=function(e,i){t.selectedService=i,t.selectedServiceId=e,o.get("../content/services/"+t.activeItem+"/"+t.selectedServiceId+".html").then(function(e){t.selectedServiceObj=n.trustAsHtml(e.data),c.scrollTo("svcdetail")},function(e){t.selectedService="",t.selectedServiceId="",console.error(i+" "+e.status+":"+e.statusText)})};let l=function(e,o){if(o||(o=t.activeServiceList),o)for(let t of o)if(t.id==e)return t.name;return e};t.init()}]),module.component("topNav",{templateUrl:"components/topnav/topnav.html"}),module.controller("TopNavCtrl",["$rootScope","$scope","$timeout",function(e,t,o){t.navigate=function(){o(function(){e.currentPage=window.location.pathname.substring(1);for(let t of e.menu)t.name===e.currentPage&&(e.currentPageName=t.label);window.innerWidth<800&&$(".navbar-toggler").click()},100)}}]),function(){for(var e,t=function(){},o=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],n=o.length,c=window.console=window.console||{};n--;)c[e=o[n]]||(c[e]=t)}();